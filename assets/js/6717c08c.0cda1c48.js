"use strict";(self.webpackChunkopen_register_docs=self.webpackChunkopen_register_docs||[]).push([[8432],{1983:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/image-b0d97c54eb336eb8b74e00cffde9be58.png"},3512:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>g,toc:()=>s});var r=t(8168),a=(t(6540),t(5680));const i={},o="Audit en logging",g={unversionedId:"installatie/logging",id:"installatie/logging",title:"Audit en logging",description:"Voor logging maken we gebruik van de ingebouwde admin\\audit systematiek van next cloud, meer daarover kan je hier vinden.",source:"@site/docs/installatie/logging.md",sourceDirName:"installatie",slug:"/installatie/logging",permalink:"/docs/installatie/logging",draft:!1,editUrl:"https://github.com/conductionnl/opencatalogi/tree/main/website/docs/installatie/logging.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Installatie-instructies Nextcloud",permalink:"/docs/installatie/instructies"},next:{title:"On-Prem server",permalink:"/docs/installatie/on-prem-server"}},l={},s=[{value:"System logging",id:"system-logging",level:2},{value:"Change logging",id:"change-logging",level:2},{value:"Security logging",id:"security-logging",level:2},{value:"Via Loki, Prometheus en Grafana",id:"via-loki-prometheus-en-grafana",level:2}],d={toc:s},c="wrapper";function u(e){let{components:n,...i}=e;return(0,a.yg)(c,(0,r.A)({},d,i,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"audit-en-logging"},"Audit en logging"),(0,a.yg)("p",null,"Voor logging maken we gebruik van de ingebouwde admin","_","audit systematiek van next cloud, meer daarover kan je ",(0,a.yg)("a",{parentName:"p",href:"https://docs.nextcloud.com/server/29/admin_manual/configuration_server/logging_configuration.html#admin-audit-log"},"hier")," vinden."),(0,a.yg)("h2",{id:"system-logging"},"System logging"),(0,a.yg)("p",null,"Als audit trails aanstaan worden automatisch alle systeemfouten gelogd, die kunnen vervolgens worden ingezien met ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/nextcloud/logreader"},"log reader")," (admin->logging)"),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"alt text",src:t(1983).A,width:"1196",height:"710"})),(0,a.yg)("h2",{id:"change-logging"},"Change logging"),(0,a.yg)("p",null,"Wijzigings- (pogingen) worden gelogd via API calls. Dit vanwege twee reden:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Zo loggen we alle pogingen, ongeacht of ze via de functioneel beheer omgeving of een specifieke afhandel applicatie zijn gemaakt"),(0,a.yg)("li",{parentName:"ol"},"We loggen pogingen, dus ook mislukte wijzigingen (bijvoorbeeld vanwege foutieve invoer of rechten) worden bijgehouden")),(0,a.yg)("p",null,"Deze logs zijn generiek in te zien via ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/nextcloud/logreader"},"log reader")," of specifiek via de functioneel beheer interface."),(0,a.yg)("h2",{id:"security-logging"},"Security logging"),(0,a.yg)("p",null,"Foutieve inlogpogingen, overmatige bevragingen, ongeldige invoer etc. worden allemaal weggeschreven naar de logs zijn daarin dus terug te vinden via log reader of te exporteren naar een dashboard dat meerdere installaties volgt."),(0,a.yg)("h2",{id:"via-loki-prometheus-en-grafana"},"Via Loki, Prometheus en Grafana"),(0,a.yg)("p",null,"We raden sterk aan om op SaaS-omgevingen gebruik te maken van dashboard om (verdacht) gedrag van gebruiker te volgen naar de algemene gezondheid van de installatie. Dit is zeker raadzaam binnen S",(0,a.yg)("a",{parentName:"p",href:"/docs/installatie/saas"},"aaS-omgevingen")," waarbij er doorgaan gebruik wordt gemaakt van \xe9\xe9n installatie per tenant (klant). Overzicht houden wordt dan snel moeilijk tot onmogelijk en op performance en security wil je proactief acteren."),(0,a.yg)("p",null,"Vanuit de Nextcloud-community is er een mooie ",(0,a.yg)("a",{parentName:"p",href:"https://okxo.de/monitor-your-nextcloud-logs-for-suspicious-activities/"},"tutorial")," beschikbaar over hoe je de Nextcloud-audit trails kan overbrengen naar je Grafana-dashboard zodat je zicht hebt op (bijvoorbeeld) mislukte inlog pogingen."))}u.isMDXComponent=!0},5680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>m});var r=t(6540);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),s=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=s(e.components);return r.createElement(l.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,d=g(e,["components","mdxType","originalType","parentName"]),c=s(t),p=a,m=c["".concat(l,".").concat(p)]||c[p]||u[p]||i;return t?r.createElement(m,o(o({ref:n},d),{},{components:t})):r.createElement(m,o({ref:n},d))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=p;var g={};for(var l in n)hasOwnProperty.call(n,l)&&(g[l]=n[l]);g.originalType=e,g[c]="string"==typeof e?e:a,o[1]=g;for(var s=2;s<i;s++)o[s]=t[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);