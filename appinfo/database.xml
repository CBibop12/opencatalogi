<?xml version="1.0"?>
<database xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="https://apps.nextcloud.com/schema/apps/database.xsd">

<!-- Table for Catalogi -->
<table>
    <name>*dbprefix*catalogi</name>
    <declaration>
        <field>
            <name>id</name>
            <type>bigint</type>
            <notnull>true</notnull>
            <primary>true</primary>
        </field>
        <field>
            <name>title</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>summary</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>description</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>image</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>search</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>listed</name>
            <type>boolean</type>
            <notnull>false</notnull>
            <default>false</default>
        </field>
        <field>
            <name>metadata</name>
            <type>json</type>
            <notnull>false</notnull>
            <default>{}</default>
        </field>
        <field>
            <name>organisation</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
    </declaration>
</table>

<!-- Table for Metadata -->
<table>
    <name>*dbprefix*metadata</name>
    <declaration>
        <field>
            <name>id</name>
            <type>bigint</type>
            <notnull>true</notnull>
            <primary>true</primary>
        </field>
        <field>
            <name>title</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>version</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>description</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>required</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>properties</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
    </declaration>
</table>

<!-- Table for Themes -->
<table>
    <name>*dbprefix*themes</name>
    <declaration>
        <field>
            <name>id</name>
            <type>bigint</type>
            <notnull>true</notnull>
            <primary>true</primary>
        </field>
        <field>
            <name>title</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>summary</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>description</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>image</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
    </declaration>
</table>

<!-- Table for Listings -->
<table>
    <name>*dbprefix*listings</name>
    <declaration>
        <field>
            <name>id</name>
            <type>bigint</type>
            <notnull>true</notnull>
            <primary>true</primary>
        </field>
        <field>
            <name>title</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>reference</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>summary</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>description</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>search</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>directory</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>metadata</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>status</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>last_sync</name>
            <type>timestamp</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>default</name>
            <type>boolean</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>available</name>
            <type>boolean</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>catalog_id</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
    </declaration>
</table>

<!-- Table for Publications -->
<table>
    <name>*dbprefix*publications</name>
    <declaration>
        <field>
            <name>id</name>
            <type>bigint</type>
            <notnull>true</notnull>
            <primary>true</primary>
        </field>
        <field>
            <name>title</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>reference</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>summary</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>description</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>image</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>category</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>portal</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>catalogi</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>meta_data</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>modified</name>
            <type>timestamp</type>
            <notnull>true</notnull>
        </field>
        <field>
            <name>featured</name>
            <type>boolean</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>organization</name>
            <type>json</type>
            <notnull>false</notnull>
            <default>{}</default>
        </field>
        <field>
            <name>data</name>
            <type>json</type>
            <notnull>false</notnull>
            <default>{}</default>
        </field>
        <field>
            <name>attachments</name>
            <type>json</type>
            <notnull>false</notnull>
            <default>{}</default>
        </field>
        <field>
            <name>attachment_count</name>
            <type>integer</type>
            <notnull>true</notnull>
        </field>
        <field>
            <name>schema</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>status</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>license</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>themes</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>anonymization</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>language_object</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>published</name>
            <type>timestamp</type>
            <notnull>false</notnull>
        </field>
    </declaration>
</table>

<!-- Table for Attachments -->
<table>
    <name>*dbprefix*attachments</name>
    <declaration>
        <field>
            <name>id</name>
            <type>bigint</type>
            <notnull>true</notnull>
            <primary>true</primary>
        </field>
        <field>
            <name>reference</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>title</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>summary</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
        <field>
            <name>description</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>labels</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>access_url</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>download_url</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>type</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>extension</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>size</name>
            <type>integer</type>
            <notnull>true</notnull>
            <default>0</default>
        </field>
        <field>
            <name>version_of</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>hash</name>
            <type>string</type>
            <length>255</length>
            <notnull>false</notnull>
        </field>
        <field>
            <name>anonymization</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>language</name>
            <type>json</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>published</name>
            <type>timestamp</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>modified</name>
            <type>timestamp</type>
            <notnull>false</notnull>
        </field>
        <field>
            <name>license</name>
            <type>string</type>
            <length>255</length>
            <notnull>true</notnull>
        </field>
    </declaration>
</table>

</database>
